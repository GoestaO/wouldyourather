{"version":3,"sources":["components/QuestionListItem.js","actions/visibilityFilter.js","utils/helpers.js","components/QuestionList.js","components/Homepage.js","utils/_DATA.js","utils/api.js","actions/questions.js","components/Question.js","actions/authedUser.js","components/LogoutButton.js","components/Navigation.js","components/PollStatistics.js","actions/users.js","actions/shared.js","components/Login.js","components/PrivateRoute.js","components/NewPoll.js","components/Leaderboard.js","components/NoMatch.js","components/App.js","serviceWorker.js","reducers/index.js","reducers/users.js","reducers/questions.js","reducers/authedUser.js","reducers/visibilityFilter.js","middleware/logger.js","middleware/index.js","index.js"],"names":["QuestionListItem","_this$props","this","props","question_id","question","react_default","a","createElement","reactstrap_es","optionOne","text","Link","role","className","to","concat","React","Component","connect","_ref","_ref2","questions","SET_VISIBILITY_FILTER","VisibilityFilters","SHOW_UNANSWERED","SHOW_ANSWERED","setVisibilityFilter","filter","type","getObjectAsArray","obj","list","key","push","QuestionList","toggleVisibilityFilter","_this","visibilityFilter","dispatch","newFilter","toggleVisibility","_this2","color","onClick","questionIds","map","questionId","components_QuestionListItem","authedUser","filteredQuestions","filteredQuestionIds","Object","keys","length","questionArray","votes","includes","optionTwo","sort","b","timestamp","id","Homepage","sm","components_QuestionList","users","sarahedo","name","avatarURL","answers","8xf0y6ziyjabvozdd253nd","6ni6ok3ym7mf1p33lnez","am8ehyc8byjqgar0jgpub9","loxhs1bqm25b708cmbf3g","tylermcginnis","vthrdm985a262al8qx3do","xj352vofupe1dqz9emx13r","johndoe","author","formatQuestion","optionOneText","optionTwoText","console","log","Math","random","toString","substring","Date","now","getInitialData","Promise","all","res","rej","setTimeout","objectSpread","then","slicedToArray","saveQuestionAnswer","qid","answer","defineProperty","_saveQuestionAnswer","saveQuestion","formattedQuestion","_saveQuestion","RECEIVE_QUESTIONS","ANSWER_QUESTION","CREATE_QUESTION","answerQuestionAsync","answerQuestion","createNewQuestionAsync","createNewQuestion","Question","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","event","preventDefault","state","setState","redirectToStatistics","_handleRadio","currentTarget","value","_this$props2","Redirect","undefined","src","alt","onSubmit","e","onChange","withRouter","ownProps","match","params","SET_AUTHED_USER","setAuthedUser","LogoutButton","logout","Navigation","expand","navbar","authedUserDetails","components_LogoutButton","PollStatistics","votesOptionOne","votesOptionTwo","votesOptionOnePercent","votesOptionTwoPercent","voteAuthedUser","toFixed","votesTotal","RECEIVE_USERS","AUTHED_ID","loadInitalDataAsync","showLoading","receiveUsers","receiveQuestions","hideLoading","Login","_handleDropDown","selectedUserId","login","redirectToHome","for","usersIds","PrivateRoute","component","authed","rest","objectWithoutProperties","Route","assign","render","NewPoll","handleChangeOptionOne","input","handleChangeOptionTwo","handleSubmit","disabled","Leaderboard","userRanking","responsive","entry","createUserRanking","ranking","forEach","userId","numOwnQuestions","countOwnQuestionsOfUser","numAnsweredQuestions","countAnsweredQuestionsOfUser","totalPoints","NoMatch","class","App","loading","BrowserRouter","react","build_default","components_Navigation","Switch","path","components_PrivateRoute","exact","loadingBar","default","Boolean","window","location","hostname","combineReducers","arguments","action","toConsumableArray","loadingBarReducer","logger","store","next","group","returnValue","getState","groupEnd","applyMiddleware","thunk","createStore","reducer","middleware","ReactDOM","es","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a736a67c.chunk.js","sourcesContent":["import React from 'react';\nimport {connect} from 'react-redux';\nimport {Link} from 'react-router-dom';\nimport {\n  Card,\n  CardText,\n  CardBody,\n  CardTitle\n} from 'reactstrap';\n\nclass QuestionListItem extends React.Component {\n\n  render() {\n    const {question_id, question} = this.props\n    return (<Card>\n      <CardBody>\n        <CardTitle>Would You Rather...</CardTitle>\n        <CardText>{question.optionOne.text}...</CardText>\n      </CardBody>\n      <Link role=\"button\" className=\"card-link\" to={`/questions/${question_id}`}>View Poll</Link>\n    </Card>);\n  }\n}\nfunction mapStateToProps({\n  questions\n}, {question_id}) {\n\n  const question = questions[question_id];\n  return {question}\n}\n\nexport default connect(mapStateToProps)(QuestionListItem)\n","export const SET_VISIBILITY_FILTER = 'SET_VISIBILITY_FILTER';\n\nexport const VisibilityFilters = {\n  SHOW_UNANSWERED: 'SHOW_UNANSWERED',\n  SHOW_ANSWERED: 'SHOW_ANSWERED'\n}\n\nexport function setVisibilityFilter(filter) {\n  return {type: SET_VISIBILITY_FILTER, filter}\n}\n\nexport function toggleVisibility(filter) {\n  let newFilter = '';\n  switch (filter) {\n    case VisibilityFilters.SHOW_ANSWERED:\n      newFilter = VisibilityFilters.SHOW_UNANSWERED\n      break;\n    case VisibilityFilters.SHOW_UNANSWERED:\n      newFilter = VisibilityFilters.SHOW_ANSWERED\n      break;\n    default:\n      newFilter = VisibilityFilters.SHOW_UNANSWERED\n  }\n  return(dispatch) => {\n    dispatch(setVisibilityFilter(newFilter));\n  }\n}\n","export const getObjectAsArray = obj => {\n  let list = [];\n  for (var key in obj) {\n    list.push(obj[key]);\n  }\n  return list;\n}\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport QuestionListItem from './QuestionListItem';\nimport {VisibilityFilters, toggleVisibility} from '../actions/visibilityFilter';\nimport {Button, ListGroup, ListGroupItem} from 'reactstrap';\nimport {getObjectAsArray} from '../utils/helpers';\n\nclass QuestionList extends React.Component {\n\n  toggleVisibilityFilter = () => {\n    const filter = this.props.visibilityFilter;\n    this\n      .props\n      .dispatch(toggleVisibility(filter));\n  }\n\n  render() {\n    return (<div>\n      {\n        this.props.visibilityFilter === VisibilityFilters.SHOW_UNANSWERED\n          ? (<h3>Unanswered Questions</h3>)\n          : (<h3>Answered Questions</h3>)\n      }\n\n      <Button color=\"primary\" onClick={() => this.toggleVisibilityFilter()}>{\n          this.props.visibilityFilter === VisibilityFilters.SHOW_UNANSWERED\n            ? (\"Show answered\")\n            : (\"Show unanswered\")\n        }</Button>\n      <ListGroup>\n        {this.props.questionIds && (this.props.questionIds.map((questionId) => <ListGroupItem key={questionId}><QuestionListItem question_id={questionId}/></ListGroupItem>))}\n      </ListGroup>\n    </div>);\n  }\n}\nfunction mapStateToProps({questions, authedUser, visibilityFilter}) {\n  let {filteredQuestions, filteredQuestionIds} = [];\n\n  // Filter questions by checking votes contain authed User\n  if (Object.keys(questions).length > 0) {\n    const questionArray = getObjectAsArray(questions);\n    switch (visibilityFilter) {\n      case VisibilityFilters.SHOW_ANSWERED:\n        filteredQuestions = questionArray.filter((question) => question.optionOne.votes.includes(authedUser) || question.optionTwo.votes.includes(authedUser))\n        break;\n      case VisibilityFilters.SHOW_UNANSWERED:\n        filteredQuestions = questionArray.filter((question) => !question.optionOne.votes.includes(authedUser) && !question.optionTwo.votes.includes(authedUser))\n        break;\n      default:\n        filteredQuestions = []\n    }\n\n  }\n\n  // Sort by timestamp desc and return the ids only\n  if (filteredQuestions && filteredQuestions.length > 0) {\n    filteredQuestionIds = filteredQuestions\n      .sort((a, b) => b.timestamp - a.timestamp)\n      .map((question) => question.id)\n  }\n\n  return {questionIds: filteredQuestionIds, authedUser: authedUser, visibilityFilter}\n}\n\nexport default connect(mapStateToProps)(QuestionList);\n","import React from 'react';\nimport QuestionList from './QuestionList';\nimport {Col} from 'reactstrap';\nclass Homepage extends React.Component {\n\n\n  render() {\n\n    return (<div>\n      <Col sm=\"6 offset-md-3\">\n        <QuestionList/>\n      </Col>\n    </div>)\n  }\n}\n\nexport default Homepage;\n","let users = {\n  sarahedo: {\n    id: 'sarahedo',\n    name: 'Sarah Edo',\n    avatarURL: \"https://tylermcginnis.com/would-you-rather/sarah.jpg\",\n    answers: {\n      \"8xf0y6ziyjabvozdd253nd\": 'optionOne',\n      \"6ni6ok3ym7mf1p33lnez\": 'optionTwo',\n      \"am8ehyc8byjqgar0jgpub9\": 'optionTwo',\n      \"loxhs1bqm25b708cmbf3g\": 'optionTwo'\n    },\n    questions: ['8xf0y6ziyjabvozdd253nd', 'am8ehyc8byjqgar0jgpub9']\n  },\n  tylermcginnis: {\n    id: 'tylermcginnis',\n    name: 'Tyler McGinnis',\n    avatarURL: \"https://tylermcginnis.com/would-you-rather/tyler.jpg\",\n    answers: {\n      \"vthrdm985a262al8qx3do\": 'optionOne',\n      \"xj352vofupe1dqz9emx13r\": 'optionTwo'\n    },\n    questions: ['loxhs1bqm25b708cmbf3g', 'vthrdm985a262al8qx3do']\n  },\n  johndoe: {\n    id: 'johndoe',\n    name: 'John Doe',\n    avatarURL: \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/11/Contact-new.svg/1920px-Contact-new.svg.png\",\n    answers: {\n      \"xj352vofupe1dqz9emx13r\": 'optionOne',\n      \"vthrdm985a262al8qx3do\": 'optionTwo',\n      \"6ni6ok3ym7mf1p33lnez\": 'optionTwo'\n    },\n    questions: ['6ni6ok3ym7mf1p33lnez', 'xj352vofupe1dqz9emx13r']\n  }\n}\n\nlet questions = {\n  \"8xf0y6ziyjabvozdd253nd\": {\n    id: '8xf0y6ziyjabvozdd253nd',\n    author: 'sarahedo',\n    timestamp: 1467166872634,\n    optionOne: {\n      votes: ['sarahedo'],\n      text: 'have horrible short term memory'\n    },\n    optionTwo: {\n      votes: [],\n      text: 'have horrible long term memory'\n    }\n  },\n  \"6ni6ok3ym7mf1p33lnez\": {\n    id: '6ni6ok3ym7mf1p33lnez',\n    author: 'johndoe',\n    timestamp: 1468479767190,\n    optionOne: {\n      votes: [],\n      text: 'become a superhero'\n    },\n    optionTwo: {\n      votes: [\n        'johndoe', 'sarahedo'\n      ],\n      text: 'become a supervillain'\n    }\n  },\n  \"am8ehyc8byjqgar0jgpub9\": {\n    id: 'am8ehyc8byjqgar0jgpub9',\n    author: 'sarahedo',\n    timestamp: 1488579767190,\n    optionOne: {\n      votes: [],\n      text: 'be telekinetic'\n    },\n    optionTwo: {\n      votes: ['sarahedo'],\n      text: 'be telepathic'\n    }\n  },\n  \"loxhs1bqm25b708cmbf3g\": {\n    id: 'loxhs1bqm25b708cmbf3g',\n    author: 'tylermcginnis',\n    timestamp: 1482579767190,\n    optionOne: {\n      votes: [],\n      text: 'be a front-end developer'\n    },\n    optionTwo: {\n      votes: ['sarahedo'],\n      text: 'be a back-end developer'\n    }\n  },\n  \"vthrdm985a262al8qx3do\": {\n    id: 'vthrdm985a262al8qx3do',\n    author: 'tylermcginnis',\n    timestamp: 1489579767190,\n    optionOne: {\n      votes: ['tylermcginnis'],\n      text: 'find $50 yourself'\n    },\n    optionTwo: {\n      votes: ['johndoe'],\n      text: 'have your best friend find $500'\n    }\n  },\n  \"xj352vofupe1dqz9emx13r\": {\n    id: 'xj352vofupe1dqz9emx13r',\n    author: 'johndoe',\n    timestamp: 1493579767190,\n    optionOne: {\n      votes: ['johndoe'],\n      text: 'write JavaScript'\n    },\n    optionTwo: {\n      votes: ['tylermcginnis'],\n      text: 'write Swift'\n    }\n  }\n}\n\nfunction generateUID() {\n  return Math\n    .random()\n    .toString(36)\n    .substring(2, 15) + Math\n    .random()\n    .toString(36)\n    .substring(2, 15)\n}\n\nexport function _getUsers() {\n  return new Promise((res, rej) => {\n    setTimeout(() => res({\n      ...users\n    }), 1000)\n  })\n}\n\nexport function _getQuestions() {\n  return new Promise((res, rej) => {\n    setTimeout(() => res({\n      ...questions\n    }), 1000)\n  })\n}\n\nfunction formatQuestion({optionOneText, optionTwoText, author}) {\n  console.log('calling _DATA.js_formatQuestion');\n  return {\n    id: generateUID(),\n    timestamp: Date.now(),\n    author,\n    optionOne: {\n      votes: [],\n      text: optionOneText\n    },\n    optionTwo: {\n      votes: [],\n      text: optionTwoText\n    }\n  }\n}\n\nexport function _saveQuestion(question) {\n  console.log('calling _DATA.js_saveQuestion', question);\n  return new Promise((res, rej) => {\n    const authedUser = question.author;\n    const formattedQuestion = formatQuestion(question);\n\n    setTimeout(() => {\n      questions = {\n        ...questions,\n        [formattedQuestion.id]: formattedQuestion\n      }\n\n      users = {\n        ...users,\n        [authedUser]: {\n          ...users[authedUser],\n          questions: users[authedUser]\n            .questions\n            .concat([formattedQuestion.id])\n        }\n      }      \n      res(formattedQuestion)\n    }, 1000)\n  })\n}\n\nexport function _saveQuestionAnswer({authedUser, qid, answer}) {\n  console.log('calling _DATA.js_saveQuestionAnswer');\n  return new Promise((res, rej) => {\n    setTimeout(() => {\n      users = {\n        ...users,\n        [authedUser]: {\n          ...users[authedUser],\n          answers: {\n            ...users[authedUser].answers,\n            [qid]: answer\n          }\n        }\n      }\n\n      questions = {\n        ...questions,\n        [qid]: {\n          ...questions[qid],\n          [answer]: {\n            ...questions[qid][answer],\n            votes: questions[qid][answer]\n              .votes\n              .concat([authedUser])\n          }\n        }\n      }\n\n      res()\n    }, 500)\n  })\n}\n","import {_getUsers, _getQuestions, _saveQuestionAnswer, _saveQuestion} from './_DATA';\n\nexport function getInitialData() {\n  return Promise\n    .all([_getUsers(), _getQuestions()])\n    .then(([users, questions]) => ({users, questions}))\n}\n\nexport function saveQuestionAnswer(authedUser, qid, answer) {\n  console.log(\"saving answer in db...\")\n  _saveQuestionAnswer({authedUser, qid, answer});\n}\n\nexport function saveQuestion(question) {\n  return _saveQuestion(question);\n}\n","import {saveQuestionAnswer, saveQuestion} from '../utils/api';\n\n// action constants\nexport const RECEIVE_QUESTIONS = 'RECEIVE_QUESTIONS';\nexport const ANSWER_QUESTION = 'ANSWER_QUESTION';\nexport const CREATE_QUESTION = 'CREATE_QUESTION';\n\n// action creators\nexport function receiveQuestions(questions) {\n  return {type: RECEIVE_QUESTIONS, questions}\n}\n\nfunction answerQuestion(authedUser, qid, answer) {\n  return {type: ANSWER_QUESTION, authedUser, qid, answer}\n}\n\nfunction createNewQuestion(question) {\n  return {type: CREATE_QUESTION, question}\n}\n\n// TODO: check if optimistic update doable\nexport function answerQuestionAsync(authedUser, qid, answer) {\n  return(dispatch) => {\n    dispatch(answerQuestion(authedUser, qid, answer));\n    return saveQuestionAnswer(authedUser, qid, answer)\n  }\n}\n\n// Optimistic update not possible as we have to wait for the formattedQuestion with the correct question id. The api is the single source of truth\nexport function createNewQuestionAsync({optionOneText, optionTwoText, author}) {\n  return(dispatch) => {\n    return saveQuestion({optionOneText, optionTwoText, author}).then((question) => {\n      dispatch(createNewQuestion(question));\n    })\n  }\n}\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {answerQuestionAsync} from '../actions/questions';\nimport {Redirect, withRouter} from 'react-router-dom';\nimport {Button} from 'reactstrap';\n\nclass Question extends React.Component {\n\n  // stateful component to store the answer\n  constructor(props) {\n    super(props);\n    this.state = {\n      answer: '',\n      redirectToStatistics: false\n    }\n  }\n\n  //TODO: Wenn Frage schon beantwortet, radiobutton mit der Antwort vorselektieren\n\n  answerQuestion = (event) => {\n    event.preventDefault();\n    const answer = this.state.answer;\n    const {question_id, authedUser} = this.props;\n    this\n      .props\n      .dispatch(answerQuestionAsync(authedUser, question_id, answer));\n    this.setState(() => ({redirectToStatistics: true}))\n  }\n\n  _handleRadio = (event) => {\n    const answer = event.currentTarget.value;\n    this.setState({answer: answer})\n  }\n\n  render() {\n    const {question_id, question, author, authedUser} = this.props;\n    const {redirectToStatistics} = this.state;\n    if (redirectToStatistics === true) {\n      return (<Redirect to={`/statistics/${question_id}`}/>)\n    }\n    if (question === undefined) {\n      return <Redirect to=\"/page-not-found\"/>\n    }\n\n    return (\n\n      (question && author && authedUser !== null)\n      ? (<div className=\"question\">\n        <h2>Would you rather</h2>\n        <div>\n          <img src={author.avatarURL} alt={`Avatar of ${author.name}`} className='avatar'/>\n          <span>{author.name}</span>\n        </div>\n        <form onSubmit={(e) => this.answerQuestion(e)}>\n          <div className=\"question-options\">\n            <label>\n              <input type=\"radio\" name=\"answer\" value=\"optionOne\" onChange={this._handleRadio}/>{question && question.optionOne.text}\n            </label>\n            <label>\n              <input type=\"radio\" name=\"answer\" value=\"optionTwo\" onChange={this._handleRadio}/>{question && question.optionTwo.text}\n            </label>\n\n          </div>\n          <Button type=\"submit\">Submit</Button>\n        </form>\n      </div>)\n      : null);\n  }\n}\n\nfunction mapStateToProps({\n  questions,\n  users,\n  authedUser\n}, ownProps) {\n  const {question_id} = ownProps.match.params;\n  const question = questions[question_id];\n  const author = question\n    ? users[question.author]\n    : null;\n  return {question_id, question, author, authedUser}\n}\nexport default withRouter(connect(mapStateToProps)(Question));\n","export const SET_AUTHED_USER = 'SET_AUTHED_USER'\n\nexport function setAuthedUser( id ) {\n\treturn {\n\t\ttype: SET_AUTHED_USER,\n\t\tid\n\t}\n}\n","import React, {Component} from 'react';\nimport {Button} from 'reactstrap';\nimport {setAuthedUser} from '../actions/authedUser';\nimport {connect} from 'react-redux';\n\nclass LogoutButton extends Component {\n\n  logout = () => {\n    this\n      .props\n      .dispatch(setAuthedUser(null));\n  }\n\n  render() {\n    return (<div>{\n        this.props.authedUser === null\n          ? null\n          : (<div>\n            <Button className=\"btn my-2 my-sm-0 nav-button\" onClick={() => this.logout()}>Logout</Button>\n          </div>)\n      }</div>)\n  }\n}\n\nconst mapStateToProps = ({authedUser}) => {\n  return {authedUser}\n}\n\nexport default connect(mapStateToProps)(LogoutButton)\n","import React, {Component} from 'react'\nimport {connect} from 'react-redux';\nimport {Nav, Navbar, NavItem} from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport LogoutButton from './LogoutButton';\n\n\nclass Navigation extends Component {\n  render() {\n    return (<div>\n      <Navbar color=\"light\" expand=\"md\">\n        <Link to=\"/\">Dashboard</Link>\n        <Nav className=\"ml-left\" navbar>\n          <NavItem className=\"ml-2\">\n            <Link to=\"/add\">New Poll</Link>\n          </NavItem>\n          <NavItem className=\"ml-2\">\n            <Link to=\"/leaderboard\">Leaderboard</Link>\n          </NavItem>\n        </Nav>\n        <Nav className=\"ml-auto\">\n          <NavItem className=\"mr-5\">\n            {this.props.authedUserDetails &&(<img src={this.props.authedUserDetails.avatarURL} alt=\"avatar of the user\" className=\"avatar-nav\"/>)}\n            {this.props.authedUserDetails &&(this.props.authedUserDetails.name)}\n          </NavItem>\n          <NavItem>\n            <LogoutButton />\n          </NavItem>\n        </Nav>\n\n      </Navbar>\n    </div>)\n  }\n}\n\nconst mapStateToProps = ({authedUser, users}) => {\n  return {\n    authedUserDetails: users[authedUser],\n  }\n}\n\nexport default connect(mapStateToProps)(Navigation);\n","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {withRouter} from 'react-router-dom';\nimport {Container, Table, Badge, Progress} from 'reactstrap';\n\nclass PollStatistics extends Component {\n\n  render() {\n    const {\n      question,\n      votesOptionOne,\n      votesOptionTwo,      \n      votesOptionOnePercent,\n      votesOptionTwoPercent,\n      voteAuthedUser\n    } = this.props;\n\n    return (<Container>\n      {\n        (question) && (<div>\n          <h2>Poll details</h2>\n          <Table>\n            <thead>\n              <tr>\n                <th></th>\n                <th>Option</th>\n                <th>Votes</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              {\n                voteAuthedUser === \"optionOne\"\n                  ? (<tr className=\"table-info\">\n                    <td>\n                      <Badge color=\"secondary\">Your response</Badge>\n                    </td>\n                    <td>{question.optionOne.text}</td>\n                    <td>{votesOptionOne}</td>\n                    <td>\n                      <Progress value={votesOptionOnePercent.toFixed(0)}/> {votesOptionOnePercent.toFixed(0)}\n                      %\n                    </td>\n                  </tr>)\n                  : (<tr>\n                    <td></td>\n                    <td>{question.optionOne.text}</td>\n                    <td>{votesOptionOne}</td>\n                    <td><Progress value={votesOptionOnePercent.toFixed(0)}/> {votesOptionOnePercent.toFixed(0)}%</td>\n                  </tr>)\n              }\n              {\n                voteAuthedUser === \"optionTwo\"\n                  ? (<tr className=\"table-info\">\n                    <td>\n                      <Badge color=\"secondary\">Your response</Badge>\n                    </td>\n                    <td>{question.optionTwo.text}</td>\n                    <td>{votesOptionTwo}</td>\n                    <td><Progress value={votesOptionTwoPercent.toFixed(0)}/>{votesOptionTwoPercent.toFixed()}%</td>\n                  </tr>)\n                  : (<tr>\n                    <td></td>\n                    <td>{question.optionTwo.text}</td>\n                    <td>{votesOptionTwo}</td>\n                    <td><Progress value={votesOptionTwoPercent.toFixed(0)}/> {votesOptionTwoPercent.toFixed(0)}%</td>\n                  </tr>)\n              }\n            </tbody>\n          </Table>\n        </div>)\n      }\n    </Container>)\n  }\n}\nfunction mapStateToProps({\n  questions,\n  authedUser,\n  users\n}, props) {\n  const {question_id} = props.match.params;\n  const question = questions[question_id];\n  const voteAuthedUser = users[authedUser].answers[question_id];\n  const votesOptionOne = question\n    ? question.optionOne.votes.length\n    : 0;\n  const votesOptionTwo = question\n    ? question.optionTwo.votes.length\n    : 0;\n  const votesTotal = votesOptionOne + votesOptionTwo;\n  const votesOptionOnePercent = votesTotal > 0\n    ? votesOptionOne / votesTotal * 100\n    : 0;\n  const votesOptionTwoPercent = votesTotal > 0\n    ? votesOptionTwo / votesTotal * 100\n    : 0;\n  return {\n    question,\n    votesOptionOne,\n    votesOptionTwo,\n    votesTotal,\n    votesOptionOnePercent,\n    votesOptionTwoPercent,\n    authedUser,\n    voteAuthedUser\n  }\n}\n\nexport default withRouter(connect(mapStateToProps)(PollStatistics));\n","import {CREATE_QUESTION, ANSWER_QUESTION} from './questions';\n\n// action constants\nexport const RECEIVE_USERS = 'RECEIVE_USERS';\n\n// action creators\nexport function receiveUsers(users) {\n  return {type: RECEIVE_USERS, users}\n}\n\nexport function addQuestionToUserQuestions(question) {\n  return {type: CREATE_QUESTION, question}\n}\n\nexport function addAnswerToUser(authedUser, qid, answer) {\n  return {type: ANSWER_QUESTION, authedUser, qid, answer}\n}\n","import {getInitialData} from '../utils/api';\nimport {receiveUsers} from './users';\nimport {receiveQuestions} from './questions';\nimport {setAuthedUser} from './authedUser';\nimport {setVisibilityFilter, VisibilityFilters} from './visibilityFilter';\nimport {showLoading, hideLoading} from 'react-redux-loading';\n\nconst AUTHED_ID = null;\n\nexport function loadInitalDataAsync() {\n  return(dispatch) => {\n    dispatch(showLoading());\n    dispatch(setAuthedUser(AUTHED_ID));\n    return getInitialData().then(({users, questions}) => {\n      dispatch(receiveUsers(users));\n      dispatch(receiveQuestions(questions));\n      dispatch(setVisibilityFilter(VisibilityFilters.SHOW_UNANSWERED));\n      dispatch(hideLoading());\n    })\n  }\n}\n","import React, {Component} from 'react';\nimport {\n  Container,\n  Col,\n  Form,\n  FormGroup,\n  Label,\n  Input,\n  Button\n} from 'reactstrap';\nimport {connect} from 'react-redux';\nimport {setAuthedUser} from '../actions/authedUser';\nimport {Redirect} from 'react-router-dom';\n\n// Once the user logs in, the home page is shown\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedUserId: '',\n      redirectToHome: false\n    }\n  }\n\n  _handleDropDown = (e) => {\n    this.setState({selectedUserId: e.currentTarget.value});\n  }\n\n  login = (e) => {\n    e.preventDefault();\n    const selectedUserId = this.state.selectedUserId;\n    this\n      .props\n      .dispatch(setAuthedUser(selectedUserId));\n    this.setState({selectedUserId: '', redirectToHome: true})\n  }\n\n  render() {\n    if (this.state.redirectToHome === true) {\n      return (<Redirect to=\"/\"/>)\n    }\n    return (<Container className=\"App col-sm-4\">\n      <h2>Sign In</h2>\n      <Form className=\"form md-3\" onSubmit={(e) => this.login(e)}>\n        <Col>\n          <FormGroup>\n            <Label for=\"users\">Select User:</Label>\n            <Input type=\"select\" name=\"select\" id=\"users\" onChange={(e) => this._handleDropDown(e)}>o\n              <option>{this.props.authedUser}</option>\n              {(this.props.usersIds) && (this.props.usersIds.map((id) => <option key={id}>{id}</option>))}\n            </Input>\n          </FormGroup>\n        </Col>\n        <Button>Submit</Button>\n      </Form>\n    </Container>);\n  }\n}\n\nconst mapStateToProps = ({users, authedUser}) => {\n  return {\n    usersIds: Object\n      .keys(users)\n      .filter((id) => id !== authedUser)\n      .sort(),\n    authedUser\n  }\n}\n\nexport default connect(mapStateToProps)(Login);\n","import React from 'react';\nimport {Route, Link} from 'react-router-dom';\n\n// Inspired by https://tylermcginnis.com/react-router-protected-routes-authentication/ and\n// https://gist.github.com/abohannon/cca2dd998edf9dc2c2165f538eece4b2\n\nconst PrivateRoute = ({\n  component: Component,\n  authed,\n  ...rest\n}) => (<Route {...rest} render={props => (\n    authed\n      ? <Component {...props}/>      :\n      <div>\n        <p>You must log in to view the page</p>\n        <Link to=\"/login\">Log in</Link>\n      </div>\n)}/>);\n\nexport default PrivateRoute;\n","import React, {Component} from 'react';\nimport {\n  Form,\n  FormGroup,\n  Label,\n  Input,\n  Col,\n  Button\n} from 'reactstrap';\nimport {connect} from 'react-redux';\nimport {createNewQuestionAsync} from '../actions/questions';\nimport {Redirect} from 'react-router-dom';\n\n\nclass NewPoll extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      optionOneText: '',\n      optionTwoText: '',\n      redirectToHome: false\n    }\n  }\n\n  handleChangeOptionOne = (e) => {\n    const input = e.currentTarget.value;\n    this.setState(() => ({optionOneText: input}))\n  }\n  handleChangeOptionTwo = (e) => {\n    const input = e.currentTarget.value;\n    this.setState(() => ({optionTwoText: input}))\n  }\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const question = {\n      optionOneText: this.state.optionOneText,\n      optionTwoText: this.state.optionTwoText,\n      author: this.props.authedUser\n    };\n    this\n      .props\n      .dispatch(createNewQuestionAsync(question));\n    this.setState(() => ({redirectToHome: true}));\n  }\n\n  render() {\n    if (this.state.redirectToHome === true) {\n      return (<Redirect to=\"/\"/>)\n    }\n    return (<Col sm=\"6 offset-md-3\">\n      <Form className=\"form \" onSubmit={(e) => this.handleSubmit(e)}>\n        <h2>Create New Poll</h2>\n        <FormGroup>\n          <Label>Would You Rather</Label>\n        </FormGroup>\n        <FormGroup>\n          <Label>Option One</Label>\n          <Input type=\"text\" name=\"optionOne\" id=\"optionOne\" onChange={(e) => this.handleChangeOptionOne(e)}/>\n        </FormGroup>\n        <FormGroup>\n          <Label>Option Two</Label>\n          <Input type=\"text\" name=\"optionTwo\" id=\"optionTwo\" onChange={(e) => this.handleChangeOptionTwo(e)}/>\n        </FormGroup>\n        <Button color=\"primary\" type=\"submit\" disabled={this.state.optionOne === '' || this.state.optionTwo === ''}>Submit</Button>\n      </Form>\n    </Col>);\n  }\n}\nconst mapStateToProps = ({authedUser}) => {\n  return {authedUser: authedUser};\n}\n\nexport default connect(mapStateToProps)(NewPoll)\n","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {Container} from 'reactstrap';\nimport {Table} from 'reactstrap';\n\nclass Leaderboard extends Component {\n\n  render() {\n    const {authedUser, userRanking} = this.props;\n    return (<Container>\n      <h2>Leaderboard</h2>\n      <Table responsive=\"responsive\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Questions asked</th>\n            <th>Questions answered</th>\n            <th>Total points</th>\n          </tr>\n        </thead>\n        <tbody>\n          {\n            userRanking.map((entry) => <tr key={entry[0]} className={entry[0] === authedUser\n              ? \"table-info\"\n              : null}>\n              <td>\n                {entry[1]}\n                <img src={entry[2]} alt=\"avatar of the user\"className=\"avatar\"/>\n              </td>\n              <td>{entry[3]}</td>\n              <td>{entry[4]}</td>\n              <td>{entry[5]}</td>\n            </tr>)\n          }\n        </tbody>\n      </Table>\n    </Container>)\n  }\n}\n\nconst mapStateToProps = ({authedUser, users, questions}) => {\n  // sorts by the 4th entry descending\n  const Comparator = (a, b) => {\n    if (a[4] < b[4])\n      return 1;\n    if (a[4] > b[4])\n      return -1;\n    return 0;\n  }\n  let userRanking = createUserRanking(questions, users);\n  userRanking = userRanking.sort(Comparator);\n  return {authedUser, userRanking, users}\n}\n\nconst countAnsweredQuestionsOfUser = (users, userId) => {  \n  return Object\n    .keys(users[userId].answers)\n    .length\n}\n\nconst countOwnQuestionsOfUser = (users, userId) => {\n  const user = users[userId];\n  return user.questions.length;\n}\n\n// Returns an array with the structure [Name of user, avatarURL, numOwnQuestions, numAnsweredQuestions, totalPoints]\nconst createUserRanking = (questions, users) => {\n  let ranking = [];\n  Object\n    .keys(users)\n    .forEach((userId) => {\n      let numOwnQuestions = countOwnQuestionsOfUser(users, userId);\n      let numAnsweredQuestions = countAnsweredQuestionsOfUser(users, userId);\n      let totalPoints = numOwnQuestions + numAnsweredQuestions;\n      ranking.push([\n        userId, users[userId].name,\n        users[userId].avatarURL,\n        numOwnQuestions,\n        numAnsweredQuestions,\n        totalPoints\n      ]);\n    })\n  return ranking;\n}\n\nexport default connect(mapStateToProps)(Leaderboard)\n","import React from 'react';\nimport {Link} from 'react-router-dom';\n\n\nconst NoMatch = () => {\n  return (<div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-md-12\">\n        <div class=\"error-template\">\n          <h1>\n          Oops!</h1>\n          <h2>\n          404 Not Found</h2>\n          <div class=\"error-details\">\n            Sorry, an error has occured, Requested page not found!\n          </div>\n          <div class=\"error-actions\">\n            <Link to=\"/\">Home</Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>)\n}\n\nexport default NoMatch;\n","import React, {Component, Fragment} from 'react';\nimport '../App.css';\nimport Homepage from './Homepage';\nimport Question from './Question';\nimport LoadingBar from 'react-redux-loading';\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport Navigation from './Navigation';\nimport PollStatistics from './PollStatistics';\nimport {loadInitalDataAsync} from '../actions/shared';\nimport Login from './Login';\nimport PrivateRoute from './PrivateRoute';\nimport NewPoll from './NewPoll'\nimport Leaderboard from './Leaderboard';\nimport NoMatch from './NoMatch';\n\nclass App extends Component {\n  componentDidMount() {\n    this\n      .props\n      .dispatch(loadInitalDataAsync(), () => console.log(this.props.loading));\n  }\n\n  render() {\n    const {authedUser} = this.props;\n    return (<Router>\n      <Fragment>\n        <LoadingBar/>\n        <Navigation/>\n        <div className=\"App\">\n\n          {\n            this.props.loading === true\n              ? null\n              : (<div>\n                <Switch>\n                  <Route path='/login' component={Login}/>\n                  <PrivateRoute authed = {authedUser} exact path='/' component={Homepage}/>\n                  <PrivateRoute authed = {authedUser} exact path='/questions/:question_id' component={Question}/>\n                  <PrivateRoute authed = {authedUser} exact path='/statistics/:question_id' component={PollStatistics}/>\n                  <PrivateRoute authed={authedUser} exact path='/add' component={NewPoll} />\n                  <PrivateRoute authed={authedUser} exact path=\"/leaderboard\" component={Leaderboard}/>\n\n                  {/* https://tylermcginnis.com/react-router-handling-404-pages */}\n                  <Route component={NoMatch}/>\n                </Switch></div>)\n          }\n        </div>\n      </Fragment>\n    </Router>)\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    loading: state.loadingBar.default === 1,\n    authedUser: state.authedUser\n  }\n}\n\nexport default connect(mapStateToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {combineReducers} from 'redux'\n\nimport users from './users';\nimport questions from './questions';\nimport authedUser from './authedUser';\nimport visibilityFilter from './visibilityFilter';\nimport {loadingBarReducer} from 'react-redux-loading'\n\nexport default combineReducers({users, questions, authedUser, loadingBar: loadingBarReducer, visibilityFilter})\n","import {RECEIVE_USERS} from '../actions/users'\n\nimport {CREATE_QUESTION, ANSWER_QUESTION} from '../actions/questions';\n\nexport default function users(state = {}, action) {\n  switch (action.type) {\n    case RECEIVE_USERS:\n      return {\n        ...state,\n        ...action.users\n      }\n    case CREATE_QUESTION:\n      const {question} = action;\n      return {\n        ...state,\n        [question.author]: {\n          ...state[question.author],\n          questions: [\n            ...state[question.author].questions,\n            question.id\n          ]\n        }\n      }\n    case ANSWER_QUESTION:\n      let {authedUser, qid, answer} = action;\n      return {\n        ...state,\n        [authedUser]: {\n          ...state[authedUser],\n          answers: {\n            ...state[authedUser].answers,\n            [qid]: answer\n          }\n        }\n      }\n    default:\n      return state\n  }\n}\n","import {RECEIVE_QUESTIONS, ANSWER_QUESTION, CREATE_QUESTION} from '../actions/questions'\n\nexport default function questions(state = {}, action) {\n  switch (action.type) {\n    case RECEIVE_QUESTIONS:\n      return {\n        ...state,\n        ...action.questions\n      }\n    case ANSWER_QUESTION:\n      let authedUser = action.authedUser;\n      let qid = action.qid;\n      let answer = action.answer;\n      return {\n        ...state,\n        [qid]: {\n          ...state[qid],\n          [answer]: {\n            ...state[qid][answer],\n            votes: state[qid][answer]\n              .votes\n              .concat(authedUser)\n          }\n        }\n      }\n    case CREATE_QUESTION:\n      return {\n        ...state,\n        [action.question.id]: {\n          ...action.question\n        }\n      }\n    default:\n      return state\n  }\n}\n","import {SET_AUTHED_USER} from '../actions/authedUser';\n\nexport default function authedUser(state = null, action) {\n  switch (action.type) {\n    case SET_AUTHED_USER:\n      return action.id\n    default:\n      return state\n  }\n}\n","import {VisibilityFilters, SET_VISIBILITY_FILTER} from '../actions/visibilityFilter';\n\nexport default function visibilityFilter(state = VisibilityFilters.SHOW_UNANSWERED, action) {\n  switch (action.type) {\n    case SET_VISIBILITY_FILTER:\n      return action.filter\n    default:\n      return state\n  }\n}\n","const logger = ( store ) => ( next ) => ( action ) => {\n\tconsole.group( action.type )\n\tconsole.log( 'The action: ', action )\n\tconst returnValue = next( action )\n\tconsole.log( 'The new state: ', store.getState() )\n\tconsole.groupEnd()\n\treturn returnValue\n}\n\nexport default logger\n","import thunk from 'redux-thunk'\nimport logger from './logger'\nimport {\n\tapplyMiddleware\n} from 'redux'\n\nexport default applyMiddleware(\n\tthunk,\n\tlogger\n)\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport {createStore} from 'redux'\nimport {Provider} from 'react-redux'\nimport reducer from './reducers'\nimport middleware from './middleware'\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n\nconst store = createStore(reducer, middleware)\n\nReactDOM.render(<Provider store={store}><App/></Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}